const post=async e=>{try{const t=await fetch(obj.AJAX_URL,{method:"POST",credentials:"same-origin",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/x-www-form-urlencoded charset=UTF-8","X-Requested-With":"XMLHttpRequest"},body:new URLSearchParams(e).toString()});return await t.json()}catch(e){console.log(e)}};document.addEventListener("DOMContentLoaded",()=>{new LazyLoad({});const e=document.querySelector("#btn-menu"),t=document.querySelector("#box-mobile-menu"),o=document.querySelector("#box-mobile-menu .overlay"),n=document.querySelector("#mobile-menu"),i=document.querySelector("#page");e.addEventListener("click",e=>{e.preventDefault(),t.classList.toggle("active"),n.classList.toggle("active"),i.classList.toggle("disable")}),o.addEventListener("click",e=>{e.preventDefault(),t.classList.toggle("active"),n.classList.toggle("active"),i.classList.toggle("disable")});const s=document.querySelector("#btn-search"),r=document.querySelector("#search"),a=document.querySelector("#search .overlay");s.addEventListener("click",e=>{e.preventDefault(),r.classList.toggle("active")}),a.addEventListener("click",e=>{e.preventDefault(),r.classList.toggle("active")}),document.querySelectorAll(".btn-wish").forEach(e=>{e.addEventListener("click",async e=>{e.preventDefault();let t=e.currentTarget,o={action:"add_to_wishlist",nonce:t.getAttribute("data-nonce"),context:"frontend",add_to_wishlist:t.getAttribute("data-product-id"),product_type:t.getAttribute("data-product-type")};if(t.classList.toggle("pending"),"exists"!==(await post(o)).result){return t.classList.toggle("pending"),void Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",Swal.stopTimer),e.addEventListener("mouseleave",Swal.resumeTimer)}}).fire({icon:"success",title:obj.ADD_TO_WISHLIST})}t.classList.toggle("pending"),Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",Swal.stopTimer),e.addEventListener("mouseleave",Swal.resumeTimer)}}).fire({icon:"success",title:obj.ADD_TO_WISHLIST_EXIST})})}),document.querySelectorAll(".btn-add").forEach(e=>{e.addEventListener("click",async e=>{e.preventDefault();let t=e.currentTarget,o={action:"woocommerce_ajax_add_to_cart",nonce:t.getAttribute("data-nonce"),product_id:t.getAttribute("data-product-id")};if(t.classList.toggle("pending"),(await post(o)).success){return t.classList.toggle("pending"),void Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",Swal.stopTimer),e.addEventListener("mouseleave",Swal.resumeTimer)}}).fire({icon:"success",title:obj.ADD_TO_CART})}t.classList.toggle("pending"),Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",Swal.stopTimer),e.addEventListener("mouseleave",Swal.resumeTimer)}}).fire({icon:"error",title:obj.ADD_TO_CART_FAILED})})}),document.querySelectorAll(".btn-buy").forEach(e=>{e.addEventListener("click",async e=>{e.preventDefault();let t=e.currentTarget,o={action:"woocommerce_ajax_add_to_cart",nonce:t.getAttribute("data-nonce"),product_id:t.getAttribute("data-product-id")};t.classList.toggle("pending");const n=await post(o);if(n.success)return t.classList.toggle("pending"),void(window.location.href=obj.CART_URL);console.log(n)})})});