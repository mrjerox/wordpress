document.addEventListener("DOMContentLoaded",()=>{document.querySelector("#btn-login").addEventListener("click",async e=>{e.preventDefault();const t=document.querySelector("#email"),n=document.querySelector("#password");let o=e.currentTarget,c={action:"ajax_login",nonce:o.getAttribute("data-nonce"),product_id:o.getAttribute("data-product-id"),username:t.value,password:n.value};o.classList.toggle("pending");const r=await post(c);if(r.success)return o.classList.toggle("pending"),void(window.location.href=obj.ACCOUNT_URL);o.classList.toggle("pending"),document.querySelector("#login-message").innerHTML=r.data,console.log(r)}),document.querySelector("#btn-register").addEventListener("click",async e=>{e.preventDefault();const t=document.querySelector("#register-email"),n=document.querySelector("#register-password"),o=document.querySelector("#register-repassword");let c=e.currentTarget,r={action:"ajax_register_customer",nonce:c.getAttribute("data-nonce"),product_id:c.getAttribute("data-product-id"),email:t.value,password:n.value};checkRequired([t,n,o])&&(checkLength(t,3,15),checkLength(n,6,25),checkEmail(t),checkPasswordsMatch(n,o)),c.classList.toggle("pending");const s=await post(r);if(s.success)return c.classList.toggle("pending"),void(window.location.href=obj.ACCOUNT_URL);c.classList.toggle("pending"),document.querySelector("#login-message").innerHTML=s.data,console.log(s)})});