document.addEventListener("DOMContentLoaded",()=>{document.querySelector("#btn-login").addEventListener("click",async e=>{e.preventDefault();const t=document.querySelector("#email"),n=document.querySelector("#password");let o=e.currentTarget,r={action:"ajax_login",nonce:o.getAttribute("data-nonce"),product_id:o.getAttribute("data-product-id"),username:t.value,password:n.value};o.classList.toggle("pending");const s=await post(r);if(s.success)return o.classList.toggle("pending"),void(window.location.href=obj.ACCOUNT_URL);o.classList.toggle("pending"),document.querySelector("#login-message").innerHTML=s.data,console.log(s)}),document.querySelector("#btn-register").addEventListener("click",async e=>{e.preventDefault();const t=document.querySelector("#register-email"),n=document.querySelector("#register-password"),o=document.querySelector("#register-repassword");let r=e.currentTarget,s={action:"ajax_register_customer",nonce:r.getAttribute("data-nonce"),email:t.value,password:n.value};if(checkRequired([t,n,o])){let e=checkEmail(t),c=checkLength(n,6,25),a=checkPasswordsMatch(n,o);if(console.log("??"),console.log(e,c,a),e&&c&&a){r.classList.toggle("pending");const e=await post(s);return e.success?(r.classList.toggle("pending"),void(document.querySelector("#register-message").innerHTML=e.data)):(r.classList.toggle("pending"),document.querySelector("#register-message").innerHTML=e.data,void console.log(e))}}})});