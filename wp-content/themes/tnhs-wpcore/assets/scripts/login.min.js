document.addEventListener("DOMContentLoaded",()=>{document.querySelector("#btn-login").addEventListener("click",async e=>{e.preventDefault();const t=document.querySelector("#email"),n=document.querySelector("#password");let r=e.currentTarget,o={action:"ajax_login",nonce:r.getAttribute("data-nonce"),product_id:r.getAttribute("data-product-id"),username:t.value,password:n.value};r.classList.toggle("pending");const s=await post(o);if(s.success)return r.classList.toggle("pending"),void(window.location.href=obj.ACCOUNT_URL);r.classList.toggle("pending"),document.querySelector("#login-message").innerHTML=s.data,console.log(s)}),document.querySelector("#btn-register").addEventListener("click",async e=>{e.preventDefault();const t=document.querySelector("#register-email"),n=document.querySelector("#register-password"),r=document.querySelector("#register-repassword");let o=e.currentTarget,s={action:"ajax_register_customer",nonce:o.getAttribute("data-nonce"),email:t.value,password:n.value};if(checkRequired([t,n,r])){let e=checkEmail(t),c=checkLength(n,6,25),a=checkPasswordsMatch(n,r);if(e&&c&&a){o.classList.toggle("pending");const e=await post(s);return e.success?(o.classList.toggle("pending"),void(document.querySelector("#register-message").innerHTML=e.data)):(o.classList.toggle("pending"),document.querySelector("#register-message").innerHTML=e.data,void console.log(e))}}})});