document.addEventListener("DOMContentLoaded",()=>{document.querySelector("#btn-login").addEventListener("click",async e=>{e.preventDefault();const t=document.querySelector("#email"),o=document.querySelector("#password");let n=e.currentTarget,c={action:"ajax_login",nonce:n.getAttribute("data-nonce"),product_id:n.getAttribute("data-product-id"),username:t.value,password:o.value};n.classList.toggle("pending");const s=await post(c);if(s.success)return n.classList.toggle("pending"),void(window.location.href=obj.ACCOUNT_URL);n.classList.toggle("pending"),document.querySelector("#login-message").innerHTML=s.data,console.log(s)}),document.querySelector("#btn-register").addEventListener("click",async e=>{e.preventDefault();const t=document.querySelector("#register-email"),o=document.querySelector("#register-password"),n=document.querySelector("#register-repassword");let c=e.currentTarget,s={action:"ajax_register_customer",nonce:c.getAttribute("data-nonce"),email:t.value,password:o.value};if(checkRequired([t,o,n])){let e=checkEmail(t),r=checkLength(o,6,25),a=checkPasswordsMatch(o,n);if(console.log("??"),console.log(e,r,a),e&&r&&a){c.classList.toggle("pending");const e=await post(s);return e.success?void c.classList.toggle("pending"):(c.classList.toggle("pending"),document.querySelector("#register-message").innerHTML=e.data,void console.log(e))}}})});